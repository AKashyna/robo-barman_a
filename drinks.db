-- Tabela dla drinków
CREATE TABLE drink (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL
);

-- Tabela dla składników (ile na stanie - tzn w butelce)
CREATE TABLE ingredient (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    quantity REAL NOT NULL
);

-- Tabela pomocnicza ( ile ilosci konkretnego składnika do konkretnego drinka)
CREATE TABLE drink_ingredient (
    drink_id INTEGER,
    ingredient_id INTEGER,
    amount REAL NOT NULL,  -- Ilość składnika w drinku
    PRIMARY KEY (drink_id, ingredient_id),
    FOREIGN KEY (drink_id) REFERENCES drink (id) ON DELETE CASCADE,
    FOREIGN KEY (ingredient_id) REFERENCES ingredient (id) ON DELETE CASCADE
);

-- Tabela dla historii produkcji drinków
CREATE TABLE production_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    drink_id INTEGER,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    quantity INTEGER NOT NULL,
    FOREIGN KEY (drink_id) REFERENCES drink (id)
);
